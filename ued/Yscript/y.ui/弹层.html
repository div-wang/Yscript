<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>放大镜</title>
<style type="text/css">
*{margin: 0;padding: 0 ;position: relative;}

</style>

<script type="text/javascript" src="../y.js"></script>
<script type="text/javascript">

function YPopup(but,tit,tan_html,height,width,callback){
	function getInner() {
		if (typeof window.innerWidth != 'undefined') {
			return {
				width : window.innerWidth,
				height : window.innerHeight
			}
		} else {
			return {
				width : document.documentElement.clientWidth,
				height : document.documentElement.clientHeight
			}
		}
	}
	var id = but.id;
/*	var abcData = [];
	ajax({
		url:"http://admin.test1.com/index.php?call=ajax.getCatalogById&id="+id,
		dataType:"json",
		success:function(json){
			each(json, function(i, value){
	    		//abcData.push(value.id+';'+value.name+';'+value.alias);
	    		//if (value.id == id) {
	    		abcData.push( value.name,value.alias);
	    		//};	
	    	})
		}
	})
	var ds = setInterval(function(){
		//alert(typeof(RegionData))
		if(abcData != ""){ 
			valuedata();
			clearInterval(ds);
		};
	},50);*/
	
	var tan_html = document.getElementById(tan_html).innerHTML;
	var body =  document.body.innerHTML;
	var html = '<div id="tan" style="background: #000;opacity: 0.4; filter: alpha(opacity=40);position: absolute;z-index:2;top: 0;left: 0;"></div><div id="tan_box" style="background: #fff;border:1px solid #ccc;border-radius:5px;-weiket-border-radius:12px;position:absolute;z-index:10;"><h3 style="background: #ccc;clear:both;height:38px;border-bottom:2px solid #eaeaea">'+tit+'<span style="float:right;cursor: pointer">x</span></h3><form action="#" id="tan_form">'+tan_html+'<input type="button" value="提交" id="taninput" style="padding:5px 10px;display:block;margin:5px auto;"></form></div>'
	document.body.innerHTML = body + html ; 
	var tan = document.getElementById('tan');
	var tan_box = document.getElementById('tan_box');
	tan.style.height = getInner().height+'px';
	tan.style.width = getInner().width+'px';
	tan_box.style.height = height + 'px';
	tan_box.style.width = width + 'px';
	tan_box.style.left = (getInner().width-tan_box.clientWidth)/2+'px';
	tan_box.style.top = (getInner().height-tan_box.clientHeight)/2+'px';
	var tab_span = tan_box.getElementsByTagName('h3')[0].getElementsByTagName('span')[0];
	tab_span.onclick = function (){document.body.removeChild(tan);document.body.removeChild(tan_box);}
	//function valuedata(){}
	var taninput = document.getElementById('taninput');
	taninput.onclick = function(){
		if (callback()) {
		document.body.removeChild(tan);document.body.removeChild(tan_box);
		};
	};

}

</script>
</head>
<body>
<span id="23" name="but1" onclick="javascript:ytan(this,'这是标题','abc',200,500,call);">点击</span>
<div id="abc" >
<label>name:</label><input type="text" value="保健食品"><br>
<label>别名:</label><input type="text" value="bjsp">
</div>
</body>
<script type="text/javascript">
	function call(){alert(111);return true}
</script>
</html>
