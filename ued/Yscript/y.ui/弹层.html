<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>放大镜</title>
<style type="text/css">
*{margin: 0;padding: 0 ;position: relative;}

</style>

<script type="text/javascript" src="../y.js"></script>
<script type="text/javascript">

function YPopup(but,tit,tan_html,height,width,callback){
	function getInner() {
		if (typeof window.innerWidth != 'undefined') {
			return {
				width : window.innerWidth,
				height : window.innerHeight
			}
		} else {
			return {
				width : document.documentElement.clientWidth,
				height : document.documentElement.clientHeight
			}
		}
	}

	
	var tan_html = document.getElementById(tan_html);
	var html = document.createElement('div') //创建元素节点 
	//var body = document.body.innerHTML;
	html.innerHTML = '<div id="tan" style="background: #000;opacity: 0.4; filter: alpha(opacity=40);position: absolute;z-index:2;top: 0;left: 0;"></div><div id="tan_box" style="background: #fff;border:1px solid #ccc;border-radius:5px;-weiket-border-radius:12px;position:absolute;z-index:10;box-shadow:0 0 5px #555;"><h3 style="background: #ccc;clear:both;height:30px;border-bottom:2px solid #eaeaea;text-align:center;line-height:30px;color:blue">'+tit+'<span style="float:right;cursor: pointer;color:#f00">x</span></h3><form action="#" id="tan_form" style="position:relative;width:100%;height:100%;"><input type="button" value="提交" id="taninput" style="padding:5px 10px;display:block;margin:5px auto;position:absolute;bottom:35px;left:40%;"></form></div>'

	document.body.appendChild(html); 
	var tan_form = document.getElementById('tan_form');
	tan_form.appendChild(tan_html);
	var tan = document.getElementById('tan');		
	var tan_box = document.getElementById('tan_box');
	tan.style.height = getInner().height+'px';
	tan.style.width = getInner().width+'px';
	tan_box.style.height = height + 'px';
	tan_box.style.width = width + 'px';
	tan_box.style.left = (getInner().width-tan_box.clientWidth)/2+'px';
	tan_box.style.top = (getInner().height-tan_box.clientHeight)/2+'px';
	var tab_span = tan_box.getElementsByTagName('h3')[0].getElementsByTagName('span')[0];
	tab_span.onclick = function (){document.body.removeChild(html);}
	//function valuedata(){}
	var taninput = document.getElementById('taninput');
	taninput.onclick = function(){
		if (callback()) {
		document.body.removeChild(html);
		};
	};

}

</script>
</head>
<body>
<span id="23" name="but1" onclick="javascript:YPopup(this,'这是标题','abc',200,500,call);">点击</span>
<div id="abc" >
<label>name:</label><input type="text" value="保健食品"><br>
<label>别名:</label><input type="text" value="bjsp">
</div>
</body>
<script type="text/javascript">
	function call(){alert(111);return true}
</script>
</html>
