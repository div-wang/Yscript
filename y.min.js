(function(){(function(){window.sys={};var ua=navigator.userAgent.toLowerCase();var s;(s=ua.match(/msie ([\d.]+)/))?sys.ie=s[1]:(s=ua.match(/firefox\/([\d.]+)/))?sys.firefox=s[1]:(s=ua.match(/chrome\/([\d.]+)/))?sys.chrome=s[1]:(s=ua.match(/opera\/.*version\/([\d.]+)/))?sys.opera=s[1]:(s=ua.match(/version\/([\d.]+).*safari/))?sys.safari=s[1]:0;if(/webkit/.test(ua)){sys.webkit=ua.match(/webkit\/([\d.]+)/)[1]}})();if(typeof(HTMLElement)!=="undefined"){HTMLElement.prototype.insertAdjacentElement=function(where,parsedNode){switch(where){case"beforeBegin":this.parentNode.insertBefore(parsedNode,this);break;case"afterBegin":this.insertBefore(parsedNode,this.firstChild);break;case"beforeEnd":this.appendChild(parsedNode);break;case"afterEnd":if(this.nextSibling){this.parentNode.insertBefore(parsedNode,this.nextSibling)}else{this.parentNode.appendChild(parsedNode)}break}};HTMLElement.prototype.insertAdjacentHTML=function(where,htmlStr){var r=this.ownerDocument.createRange();r.setStartBefore(this);var parsedHTML=r.createContextualFragment(htmlStr);this.insertAdjacentElement(where,parsedHTML)};HTMLElement.prototype.insertAdjacentText=function(where,txtStr){var parsedText=document.createTextNode(txtStr);this.insertAdjacentElement(where,parsedText)}}function addDomLoaded(fn){var isReady=false;var timer=null;function doReady(){if(timer){clearInterval(timer)}if(isReady){return}isReady=true;fn()}if((sys.opera&&sys.opera<9)||(sys.firefox&&sys.firefox<3)||(sys.webkit&&sys.webkit<525)){timer=setInterval(function(){if(document&&document.getElementById&&document.getElementsByTagName&&document.body){doReady()}},1)}else{if(document.addEventListener){addEvent(document,"DOMContentLoaded",function(){fn();removeEvent(document,"DOMContentLoaded",arguments.callee)})}else{if(sys.ie&&sys.ie<9){var timer=null;timer=setInterval(function(){try{document.documentElement.doScroll("left");doReady()}catch(e){}},1)}}}}function addEvent(obj,type,fn){if(typeof obj.addEventListener!="undefined"){obj.addEventListener(type,fn,false)}else{if(!obj.events){obj.events={}}if(!obj.events[type]){obj.events[type]=[];if(obj["on"+type]){obj.events[type][0]=fn}}else{if(addEvent.equal(obj.events[type],fn)){return false}}obj.events[type][addEvent.ID++]=fn;obj["on"+type]=addEvent.exec}}addEvent.ID=1;addEvent.exec=function(event){var e=event||addEvent.fixEvent(window.event);var es=this.events[e.type];for(var i in es){es[i].call(this,e)}};addEvent.equal=function(es,fn){for(var i in es){if(es[i]==fn){return true}}return false};addEvent.fixEvent=function(event){event.preventDefault=addEvent.fixEvent.preventDefault;event.stopPropagation=addEvent.fixEvent.stopPropagation;event.target=event.srcElement;return event};addEvent.fixEvent.preventDefault=function(){this.returnValue=false};addEvent.fixEvent.stopPropagation=function(){this.cancelBubble=true};function removeEvent(obj,type,fn){if(typeof obj.removeEventListener!="undefined"){obj.removeEventListener(type,fn,false)}else{if(obj.events){for(var i in obj.events[type]){if(obj.events[type][i]==fn){delete obj.events[type][i]}}}}}function getInner(){if(typeof window.innerWidth!="undefined"){return{width:window.innerWidth,height:window.innerHeight}}else{return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}}function getScroll(){return{top:document.documentElement.scrollTop||document.body.scrollTop,left:document.documentElement.scrollLeft||document.body.scrollLeft}}function getStyle(element,attr){var value;if(typeof window.getComputedStyle!="undefined"){value=window.getComputedStyle(element,null)[attr]}else{if(typeof element.currentStyle!="undeinfed"){value=element.currentStyle[attr]}}return value}function startMove(obj,json,time,fnEnd){if(time>30){var s=Math.round(time/30)}else{var s=1}function getStyle(obj,name){if(obj.currentStyle){return obj.currentStyle[name]}else{return getComputedStyle(obj,false)[name]}}clearInterval(obj.timer);obj.timer=setInterval(function(){var bStop=true;for(var attr in json){var cur=0;if(attr=="opacity"){cur=Math.round(parseFloat(getStyle(obj,attr))*100)}else{cur=parseInt(getStyle(obj,attr))}var speed=(json[attr]-cur)/s;speed=speed>0?Math.ceil(speed):Math.floor(speed);if(cur!=json[attr]){bStop=false}if(attr=="opacity"){obj.style.filter="alpha(opacity:"+(cur+speed)+")";obj.style.opacity=(cur+speed)/100}else{obj.style[attr]=cur+speed+"px"}}if(bStop){clearInterval(obj.timer);if(fnEnd){fnEnd()}}},30)}function hasClass(element,className){return element.className.match(new RegExp("(\\s|^)"+className+"(\\s|$)"))}function insertRule(sheet,selectorText,cssText,position){if(typeof sheet.insertRule!="undefined"){sheet.insertRule(selectorText+"{"+cssText+"}",position)}else{if(typeof sheet.addRule!="undefined"){sheet.addRule(selectorText,cssText,position)}}}function deleteRule(sheet,index){if(typeof sheet.deleteRule!="undefined"){sheet.deleteRule(index)}else{if(typeof sheet.removeRule!="undefined"){sheet.removeRule(index)}}}function getInnerText(element){return(typeof element.textContent=="string")?element.textContent:element.innerText
}function setInnerText(elememt,text){if(typeof element.textContent=="string"){element.textContent=text}else{element.innerText=text}}function offsetTop(element){var top=element.offsetTop;var parent=element.offsetParent;while(parent!=null){top+=parent.offsetTop;parent=parent.offsetParent}return top}function trim(str){return str.replace(/(^\s*)|(\s*$)/g,"")}function inArray(array,value){for(var i in array){if(array[i]===value){return true}}return false}function prevIndex(current,parent){var length=parent.children.length;if(current==0){return length-1}return parseInt(current)-1}function nextIndex(current,parent){var length=parent.children.length;if(current==length-1){return 0}return parseInt(current)+1}function fixedScroll(){window.scrollTo(fixedScroll.left,fixedScroll.top)}function predef(e){e.preventDefault()}function Base(args){this.elements=[];if(typeof args=="string"){if(args.indexOf(" ")!=-1){var elements=args.split(" ");var childElements=[];var node=[];for(var i=0;i<elements.length;i++){if(node.length==0){node.push(document)}switch(elements[i].charAt(0)){case"#":childElements=[];childElements.push(this.getId(elements[i].substring(1)));node=childElements;break;case".":childElements=[];for(var j=0;j<node.length;j++){var temps=this.getClass(elements[i].substring(1),node[j]);for(var k=0;k<temps.length;k++){childElements.push(temps[k])}}node=childElements;break;default:childElements=[];for(var j=0;j<node.length;j++){var temps=this.getTagName(elements[i],node[j]);for(var k=0;k<temps.length;k++){childElements.push(temps[k])}}node=childElements}}this.elements=childElements}else{switch(args.charAt(0)){case"#":this.elements.push(this.getId(args.substring(1)));break;case".":this.elements=this.getClass(args.substring(1));break;default:this.elements=this.getTagName(args)}}}else{if(typeof args=="object"){if(args!=undefined){this.elements[0]=args}}else{if(typeof args=="function"){this.ready(args)}}}}Base.prototype.ready=function(fn){addDomLoaded(fn)};Base.prototype.getId=function(id){return document.getElementById(id)};Base.prototype.getTagName=function(tag,parentNode){var node=null;var temps=[];if(parentNode!=undefined){node=parentNode}else{node=document}var tags=node.getElementsByTagName(tag);for(var i=0;i<tags.length;i++){temps.push(tags[i])}return temps};Base.prototype.getClass=function(className,parentNode){var node=null;var temps=[];if(parentNode!=undefined){node=parentNode}else{node=document}var all=node.getElementsByTagName("*");for(var i=0;i<all.length;i++){if((new RegExp("(\\s|^)"+className+"(\\s|$)")).test(all[i].className)){temps.push(all[i])}}return temps};Base.prototype.find=function(str){var childElements=[];for(var i=0;i<this.elements.length;i++){switch(str.charAt(0)){case"#":childElements.push(this.getId(str.substring(1)));break;case".":var temps=this.getClass(str.substring(1),this.elements[i]);for(var j=0;j<temps.length;j++){childElements.push(temps[j])}break;default:var temps=this.getTagName(str,this.elements[i]);for(var j=0;j<temps.length;j++){childElements.push(temps[j])}}}this.elements=childElements;return this};Base.prototype.ge=function(num){return this.elements[num]};Base.prototype.first=function(){var firstNode=this.elements[0];this.elements=[];this.elements[0]=firstNode;return this};Base.prototype.last=function(){var lastNode=this.elements[this.elements.length-1];this.elements=[];this.elements[0]=lastNode;return this};Base.prototype.index=function(){var children=this.elements[0].parentNode.children;for(var i=0;i<children.length;i++){if(this.elements[0]==children[i]){return i}}};Base.prototype.eq=function(num){var element=this.elements[num];this.elements=[];this.elements[0]=element;return this};Base.prototype.parent=function(){for(var i=0;i<this.elements.length;i++){var parent=this.elements[i].parentNode}this.elements=[];this.elements[0]=parent;return this};Base.prototype.subling=function(){var sN=[];for(var i=0;i<this.elements.length;i++){var subling=this.elements[i].parentNode.childNodes;if(subling&&subling.length>0){for(var j=0;j<subling.length;j++){if(subling[j].nodeType==1){sN.push(subling[j])}}}}this.elements=sN;return this};Base.prototype.childs=function(){var cN=[];for(var i=0;i<this.elements.length;i++){var childs=this.elements[i].childNodes;if(childs&&childs.length>0){for(var j=0;j<childs.length;j++){if(childs[j].nodeType==1){cN.push(childs[j])}}}}this.elements=[];this.elements=cN;return this};Base.prototype.append=function(html,location){if(this.elements.length>0){if(arguments.length==1){location="beforeEnd"}for(var i=0;i<this.elements.length;i++){if(typeof html==="string"){this.elements[i].insertAdjacentHTML(location,html)}else{if(html instanceof Base){if(html.elements.length>0){for(var j=0;j<html.elements.length;j++){this.elements[i].insertAdjacentElement(location,html.elements[j])}}return this}else{if(typeof html==="object"){this.elements[i].insertAdjacentElement(location,html);return this}else{throw new Error("错误的对象类型")}}}}}return this};Base.prototype.attr=function(obj,value){for(var i=0;
i<this.elements.length;i++){if(arguments.length==1){return this.elements[i].getAttribute(obj)}else{if(arguments.length==2){if(window.ActiveXObject&&obj=="style"&&sys.ie<8){alert(111);return}this.elements[i].setAttribute(obj,value)}}}return this};Base.prototype.css=function(attr,value){for(var i=0;i<this.elements.length;i++){if(arguments.length==1){return getStyle(this.elements[i],attr)}this.elements[i].style[attr]=value}return this};Base.prototype.opacity=function(num){for(var i=0;i<this.elements.length;i++){this.elements[i].style.opacity=num/100;this.elements[i].style.filter="alpha(opacity="+num+",finishOpacity=0,style=0)"}return this};Base.prototype.height=function(obj){for(var i=0;i<this.elements.length;i++){var px=getStyle(this.elements[i],"height");var height=px[i].split("p");return height[0]}};Base.prototype.width=function(){for(var i=0;i<this.elements.length;i++){var px=getStyle(this.elements[i],"width");var width=px.split("p");return width[0]}};Base.prototype.offsetTop=function(){for(var i=0;i<this.elements.length;i++){var top=this.elements[i].offsetTop;return top}};Base.prototype.offsetLeft=function(){for(var i=0;i<this.elements.length;i++){var left=this.elements[i].offsetLeft;return left}};Base.prototype.addClass=function(className){for(var i=0;i<this.elements.length;i++){if(!hasClass(this.elements[i],className)){this.elements[i].className+=" "+className}}return this};Base.prototype.removeClass=function(className){for(var i=0;i<this.elements.length;i++){if(hasClass(this.elements[i],className)){this.elements[i].className=this.elements[i].className.replace(new RegExp("(\\s|^)"+className+"(\\s|$)")," ")}}return this};Base.prototype.value=function(str){for(var i=0;i<this.elements.length;i++){if(this.elements[i].tagName!="INPUT"&&this.elements[i].tagName!="TEXTAREA"){continue}else{if(arguments.length==0){return this.elements[i].value}this.elements[i].value=str;return this}}return null};Base.prototype.html=function(str){for(var i=0;i<this.elements.length;i++){if(arguments.length==0){return this.elements[i].innerHTML}this.elements[i].innerHTML=str}return this};Base.prototype.text=function(str){for(var i=0;i<this.elements.length;i++){if(arguments.length==0){return getInnerText(this.elements[i])}if(typeof this.elements[i].textContent=="string"){this.elements[i].textContent=str}else{this.elements[i].innerText=str}}return this};Base.prototype.bind=function(event,fn){for(var i=0;i<this.elements.length;i++){addEvent(this.elements[i],event,fn)}return this};Base.prototype.hover=function(over,out){for(var i=0;i<this.elements.length;i++){addEvent(this.elements[i],"mouseover",over);addEvent(this.elements[i],"mouseout",out)}return this};Base.prototype.show=function(num){if(arguments.length==1){for(var i=0;i<this.elements.length;i++){var element=this.elements[i];if(element.style.display=="block"){return}var styles="";if(element.getAttribute("style")!=null){styles=element.getAttribute("style")}else{styles="display:block"}element.style.opacity=0;element.style.display="block";var height=element.offsetHeight;var width=element.offsetWidth;element.style.height=0;element.style.width=0;startMove(element,{"opacity":100,"height":height,"width":width},num,function(){element.setAttribute("style",styles);element.style.display="block"})}}else{for(var i=0;i<this.elements.length;i++){this.elements[i].style.display="block"}}return this};Base.prototype.hide=function(num){if(arguments.length==1){for(var i=0;i<this.elements.length;i++){var element=this.elements[i];if(element.style.display=="none"){return}var styles="";if(element.getAttribute("style")!=null){styles=element.getAttribute("style")}else{styles="display:none"}startMove(element,{"opacity":0,"height":0,"width":0},num,function(){element.setAttribute("style",styles);element.style.display="none"})}}else{for(var i=0;i<this.elements.length;i++){this.elements[i].style.display="none"}}return this};Base.prototype.click=function(fn){for(var i=0;i<this.elements.length;i++){this.elements[i].onclick=fn}return this};Base.prototype.resize=function(fn){for(var i=0;i<this.elements.length;i++){var element=this.elements[i];addEvent(window,"resize",function(){fn();if(element.offsetLeft>getInner().width+getScroll().left-element.offsetWidth){element.style.left=getInner().width+getScroll().left-element.offsetWidth+"px";if(element.offsetLeft<=0+getScroll().left){element.style.left=0+getScroll().left+"px"}}if(element.offsetTop>getInner().height+getScroll().top-element.offsetheight){element.style.top=getInner().height+getScroll().top-element.offsetheight+"px";if(element.offsetTop<=0+getScroll().top){element.style.top=0+getScroll().top+"px"}}})}return this};Base.prototype.getInner=function(){if(typeof window.innerWidth!="undefined"){return{width:window.innerWidth,height:window.innerHeight}}else{return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}};Base.prototype.animate=function(json,time,fnEnd){for(var i=0;i<this.elements.length;i++){var _this=this.elements[i];
startMove(_this,json,time,fnEnd)}return this};Base.prototype.focus=function(){for(var i=0;i<this.elements.length;i++){if(this.elements[i].tagName!="INPUT"&&this.elements[i].tagName!="BUTTON"&&this.elements[i].tagName!="TEXTAREA"){continue}else{this.elements[i].focus()}}return this};Base.prototype.select=function(){for(var i=0;i<this.elements.length;i++){if(this.elements[i].tagName!="INPUT"&&this.elements[i].tagName!="TEXTAREA"){continue}else{this.elements[i].select()}}return this};Base.prototype.each=function(object,callback,args){var name,i=0,length=object.length;if(args){if(length==undefined){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(length==undefined){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object};Base.prototype.trim=function(str){return str.replace(/(^\s+)|(\s+$)/gi,"")};Base.prototype.getUrlParam=function(key){if(this.indexOf("?")>0){var sreg="(\\?|\\&)("+key+")(\\=)(.*?)([\\&]|$)";var oreg=new RegExp(sreg,"gim");if(oreg.test(this)){return RegExp.$4}else{return null}}else{return null}};Base.prototype.setUrlParam=function(key,value){if(this.indexOf("?")>0){var sreg="(\\?|\\&)("+key+")(\\=)(.*?)([\\&]|$)";var oreg=new RegExp(sreg,"gim");if(oreg.test(this)){return this.replace(oreg,"$1$2$3"+value+"$5")}else{return this+"&"+key+"="+value}}else{return this+"?"+key+"="+value}};Base.prototype.ajax=function(conf){var xhr=(function(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest()}else{if(typeof ActiveXObject!="undefined"){var version=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp"];for(var i=0;version.length;i++){try{return new ActiveXObject(version[i])}catch(e){}}}else{throw new Error("您的系统或浏览器不支持XHR对象！")}}})();var type=conf.type;var url=conf.url;var data=conf.data;var dataType=conf.dataType;var async=conf.async;var success=conf.success;if(type==null){type="get"}if(dataType==null){dataType="text"}if(async==null){async=true}xhr.open(type,url,async);if(type=="GET"||type=="get"){xhr.send(null)}else{if(type=="POST"||type=="post"){xhr.setRequestHeader("content-type","application/x-www-form-urlencoded");xhr.send(data)}}if(async){xhr.onreadystatechange=function(){if(xhr.readyState==4&&xhr.status==200){if(dataType=="text"||dataType=="TEXT"){if(success!=null){success(xhr.responseText)}}else{if(dataType=="xml"||dataType=="XML"){if(success!=null){success(xhr.responseXML)}}else{if(dataType=="json"||dataType=="JSON"){if(success!=null){success(eval("("+xhr.responseText+")"))}}}}}}}else{if(xhr.readyState==4&&xhr.status==200){if(dataType=="text"||dataType=="TEXT"){return xhr.responseText}else{if(dataType=="xml"||dataType=="XML"){return xhr.responseXML}else{if(dataType=="json"||dataType=="JSON"){return eval("("+xhr.responseText+")")}}}}else{return null}}};Base.prototype.setCookie=function(name,value,duration){var oDate=new Date();if(duration<=0){duration=1}oDate.setDate(oDate.getDate()+duration);document.cookie=name+"="+encodeURI(value)+"; expires="+oDate};Base.prototype.getCookie=function(name){var arr=document.cookie.split("; ");for(var i=0;i<arr.length;i++){var arr2=arr[i].split("=");if(arr2[0]==name){return decodeURIComponent(arr2[1])}}return""};Base.prototype.delCookie=function(name){setCookie(name,1,-1)};Base.prototype.extend=function(name,fn){Base.prototype[name]=fn};var Y=function(args){return new Base(args)};window.ys=Y();window.Y=Y;window.ajax=ys.ajax;window.each=ys.each;window.setCookie=ys.setCookie;window.getCookie=ys.getCookie;window.delCookie=ys.delCookie})();